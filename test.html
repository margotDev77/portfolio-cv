<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:ital,wght@0,100;0,300;0,400;0,500;0,700;0,800;0,900;1,100;1,300;1,400;1,500;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="CSS/atomic.css">
    <link rel="stylesheet" href="CSS/portfolio-print.css">
    <script src="java.js" defer></script>
    <link rel="styesheet" href="Médias/syle.js">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>


        /* ========= Responsive ========= */
        @media (max-width: 1024px) {
            .sticky-parent {
                height: auto;
            }

            .sticky {
                position: relative;
            }

            .horizontal {
                flex-wrap: nowrap;
                overflow-x: auto;
                transform: none !important;
                scroll-behavior: smooth;
                -webkit-overflow-scrolling: touch;
            }

            .dim {
                flex: 0 0 auto;
                width: 90vw;
                margin-right: 20px;
            }

            .galleryViz-item img {
                max-width: 300px;
            }
        }

        /* =======================
   BARRE DE PROGRESSION
   ======================= */
        .scroll-progress-bar {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            overflow: hidden;
            z-index: 1000;
        }

        .scroll-progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #00b3ff, #0077ff);
            border-radius: 6px;
            transition: width 0.1s ease-out;
        }

        /* Mode sombre */
        body.dark-mode .scroll-progress-bar {
            background: rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .scroll-progress {
            background: linear-gradient(90deg, #ffcc00, #ff8800);
        }

        /* Mobile — plus petite */
        @media (max-width: 768px) {
            .scroll-progress-bar {
                bottom: 10px;
                width: 90%;
                height: 4px;
            }
        }

        .horizontal {
            display: flex;
            transition: transform 0.2s ease-out;
            will-change: transform;
            touch-action: pan-y;
            /* autorise seulement le défilement vertical global */
        }

        @media (max-width: 1024px) {

            body,
            html {
                overflow-x: hidden;
            }

            .sticky-parent {
                height: auto;
            }

            .sticky {
                position: relative;
                overflow: hidden;
            }

            .horizontal {
                overflow-x: scroll;
                scroll-behavior: smooth;
                -webkit-overflow-scrolling: touch;
            }

            .horizontal::-webkit-scrollbar {
                display: none;
            }

            .dim {
                flex: 0 0 90%;
                margin-right: 5%;
            }

            .scroll-progress-bar {
                bottom: 8px;
                width: 85%;
            }
        }
    </style>
</head>

<body>

    <header class="headerFlex-horizontal">
        <div class="logo"><a href="index.html">
                <img src="Medias/dwwm-logo.png" alt="Logo" class="logo-theme logo-size"></a>
        </div>
        <div class="home-menu">
            <nav>
                <ul class="menu typo-1 font-size">
                    <li class="open-btn button-more"><a>Portfolio</a></li>
                    <li class="button-more"><a href="contact.html">Contact</a></li>

                </ul>
            </nav>
            <div class="content-rac-portfolio">
                <a class="button-less typo-1 font-size" href="portfolio-web.html">Web</a>
            </div>
        </div>
        <div class="bloc-mode">
            <div class="menu-color-theme">
                <button class="theme-toggle"><i id="theme-icon" class="fas fa-sun"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="sticky-parent">
        <div class="sticky">
            <div class="horizontal">

                <div class="dim">
                    <div class="gallery">
                        <div class="galleryViz">
                            <div class="image-print">
                                <div class="galleryViz-item" data-type="image"
                                    data-info="Logo perso pour l'impression 3D"
                                    data-src="Medias/portfolio/creafi3d.webp">
                                    <img src="Medias/portfolio/creafi3d.webp" alt="Image 1"
                                        class="border-radius-img bloc-medias">
                                </div>
                            </div>
                            <div class="content-info-print typo-1 font-size">Logo perso pour l'impression 3D</div>
                        </div>

                        <div class="galleryViz">
                            <div class="image-print">
                                <div class="galleryViz-item" data-type="image" data-src="Medias/portfolio/imep.webp">
                                    <img src="Medias/portfolio/imep.webp" alt="Image 2"
                                        class="border-radius-img bloc-medias">
                                </div>
                            </div>
                            <div class="content-info-print typo-1 font-size">Logo pour la section IMEP</div>
                        </div>
                    </div>
                </div>

                <div class="dim">
                    <div class="gallery">
                        <div class="galleryViz">
                            <div class="image-print">
                                <div class="galleryViz-item" data-type="image" data-src="Medias/portfolio/dwwm.webp">
                                    <img src="Medias/portfolio/dwwm.webp" alt="Image 3"
                                        class="border-radius-img bloc-medias">
                                </div>
                            </div>
                            <div class="content-info-print typo-1 font-size">Logo pour la section DWWM</div>
                        </div>

                        <div class="galleryViz">
                            <div class="image-print">
                                <div class="galleryViz-item" data-type="image"
                                    data-src="Medias/portfolio/léa-vous-raconte.webp">
                                    <img src="Medias/portfolio/léa-vous-raconte.webp" alt="Image 4"
                                        class="border-radius-img bloc-medias">
                                </div>
                            </div>
                            <div class="content-info-print typo-1 font-size">Logo pour une châine Youtube</div>
                        </div>
                    </div>
                </div>

                <div class="dim">
                    <div class="gallery">
                        <div class="galleryViz">
                            <div class="image-print">
                                <div class="galleryViz-item" data-type="image"
                                    data-src="Medias/portfolio/Pouss-Mouss.jpg">
                                    <img src="Medias/portfolio/Pouss-Mouss.jpg" alt="Image 5"
                                        class="border-radius-img bloc-medias">
                                </div>
                            </div>
                            <div class="content-info-print typo-1 font-size">Affiche Pouss-Mouss V1 (IMEP)</div>
                        </div>

                        <div class="galleryViz">
                            <div class="image-print">
                                <div class="galleryViz-item" data-type="image"
                                    data-src="Medias/portfolio/Pouss-Mouss-lait-d'anesse.png">
                                    <img src="Medias/portfolio/Pouss-Mouss-lait-d'anesse.png" alt="Image 6"
                                        class="border-radius-img bloc-medias">
                                </div>
                            </div>
                            <div class="content-info-print typo-1 font-size">Affiche Pouss-Mouss V2 (IMEP)</div>
                        </div>
                    </div>
                </div>

                <div class="dim">
                    <div class="gallery">
                        <div class="galleryViz">
                            <div class="image-print">
                                <div class="galleryViz-item" data-type="image"
                                    data-src="Medias/portfolio/roll-up-monopoly.webp">
                                    <img src="Medias/portfolio/roll-up-monopoly.webp" alt="Image 7"
                                        class="border-radius-img bloc-medias">
                                </div>
                            </div>
                            <div class="content-info-print typo-1 font-size">Roll-up Monopoly (Projet IMEP)</div>
                        </div>

                        <div class="galleryViz">
                            <div class="image-print">
                                <div class="galleryViz-item" data-type="image"
                                    data-src="Medias/portfolio/pack-lotus-menthol.webp">
                                    <img src="Medias/portfolio/pack-lotus-menthol.webp" alt="Image 8"
                                        class="border-radius-img bloc-medias">
                                </div>
                            </div>
                            <div class="content-info-print typo-1 font-size">Packaging Lotus Mentol</div>
                        </div>
                    </div>
                </div>


                <div class="dim-marques-pages">
                    <div class="gallery">
                        <div class="image-print">
                            <div class="text-hover typo-1 font-size-titre color-accent">survole-moi</div>
                            <div class="bloc-fd-print-portfolio">
                                <div class="marque-pages-bloc">
                                    <div class="flip-card-container">
                                        <div class="flip-card">
                                            <div class="flip-card-front">
                                                <img src="Medias/portfolio/marque pages-v1-recto.png"
                                                    class="marque-pages-size">
                                            </div>

                                            <div class="flip-card-back">
                                                <img src="Medias/portfolio/marque pages-v1-verso.png"
                                                    class="marque-pages-size">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="content-info-print-marque-pages typo-1 font-size">Marque-pages V1</div>
                            </div>
                        </div>


                        <div class="image-print">
                            <div class="text-hover typo-1 font-size-titre color-accent">survole-moi</div>
                            <div class="bloc-fd-print-portfolio">
                                <div class="marque-pages-bloc">
                                    <div class="flip-card-container">
                                        <div class="flip-card">
                                            <div class="flip-card-front">
                                                <img src="Medias/portfolio/marque-pages_recto.png"
                                                    class="marque-pages-size">
                                            </div>

                                            <div class="flip-card-back">
                                                <img src="Medias/portfolio/marque-pages_verso.png"
                                                    class="marque-pages-size">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="content-info-print-marque-pages typo-1 font-size">Marque-pages V2</div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="scroll-progress-bar">
                <div class="scroll-progress"></div>
            </div>

        </div>
    </div>

    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <span class="close-bttn"><i class="fa-solid fa-circle-xmark"></i></span>
            <img class="lightbox-img" id="lightbox-img" src="" alt="">
            <p class="image-info" id="image-info"></p>
        </div>
    </div>

    <div class="popup-overlay">
        <div class="popup-content">
            <div class="button-close fillIn"><i class="fa-solid fa-circle-xmark"></i></div>
            <div class="container">
                <div class="top">
                    <h1 class="typo-1 font-size-middle-titre font-weight-gros-titre text-accent-color">Portfolio</h1>
                </div>
                <div class="package-container">
                    <div class="packages">
                        <h1 class="typo-1 color-accent">Web</h1>
                        <ul class="list typo-courante font-size">
                            <li>front-end</li>
                            <li>back-end</li>
                            <li>motion design</li>
                            <li>montage vidéo</li>
                        </ul>
                        <a href="portfolio-web.html" class="button-pop text-accent-color typo-1">Voir</a>
                    </div>
                    <div class="packages">
                        <h1 class="typo-1 color-accent">Print</h1>
                        <ul class="list typo-courante font-size">
                            <li>identité visuelle</li>
                            <li>mise en page</li>
                            <li>packaging</li>
                            <li>plv</li>
                        </ul>
                        <a href="portfolio-print.html" class="button-pop text-accent-color typo-1">Voir</a>
                    </div>
                    <div class="packages">
                        <h1 class="typo-1 color-accent">3D</h1>
                        <ul class="list typo-courante">
                            <li>modélisation</li>
                            <li>imp résine</li>
                            <li>imp filament</li>
                            <li>post traitement</li>
                        </ul>
                        <a href="portfolio-3d.html" class="button-pop text-accent-color typo-1">Voir</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="debordement-menu">
        <div id="fixedFooter" class="content-menu fixed">
            <div class="headerFlex-hamburger typo-1 font-size">
                <div class="logo-hamburger"><a href="index.html">
                        <img src="Medias/dwwm-logo.png" alt="Logo" class="logo-theme logo-size-hamburger"></a>
                </div>
                <div class="home-menu-hamburger">
                    <nav>
                        <ul class="menu-hamburger typo-1">
                            <li class="open-btn"><a>Portfolio</a></li>
                            <li><a href="contact.html">Contact</a></li>
                        </ul>
                    </nav>
                </div>

                <div class="bloc-mode">
                    <div class="menu-color-theme">
                        <button class="theme-toggle"><i id="theme-icon" class="fas fa-sun"></i>
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <script>
        const imagesViz = document.querySelectorAll(".galleryViz img");
        const lightbox = document.getElementById("lightbox");
        const lightboxImg = document.getElementById("lightbox-img");
        const imageInfo = document.getElementById("image-info");
        const closeBton = document.querySelector(".close-bttn");

        imagesViz.forEach(image => {
            image.addEventListener("click", () => {
                lightbox.style.display = "flex";
                lightboxImg.src = image.src;
                imageInfo.textContent = image.getAttribute("data-info");
                document.body.classList.add("no-scroll");
            });
        });

        function closeLightbox() {
            lightbox.style.display = "none";
            document.body.classList.remove("no-scroll");
        }

        closeBton.addEventListener("click", closeLightbox);

        lightbox.addEventListener("click", (event) => {
            if (event.target === lightbox) {
                closeLightbox();
            }
        });
    </script>


    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const stickyParent = document.querySelector(".sticky-parent");
            const horizontal = document.querySelector(".horizontal");
            const progressBar = document.querySelector(".scroll-progress");

            if (!stickyParent || !horizontal || !progressBar) return;

            const isMobile = window.matchMedia("(max-width: 1024px)").matches;

            /* === Desktop : scroll vertical qui déplace horizontalement === */
            const updateScrollAnimation = () => {
                if (isMobile) return; // pas sur mobile

                const totalScrollWidth = horizontal.scrollWidth - window.innerWidth;
                const totalScrollHeight = stickyParent.offsetHeight - window.innerHeight;
                const scrollTop = stickyParent.getBoundingClientRect().top;
                const progress = Math.min(Math.max(scrollTop * -1 / totalScrollHeight, 0), 1);

                // déplacement horizontal simulé
                const translateX = progress * totalScrollWidth * -1;
                horizontal.style.transform = `translateX(${translateX}px)`;

                // barre de progression
                progressBar.style.width = `${progress * 100}%`;
            };

            /* === Mobile : swipe horizontal natif === */
            const updateMobileProgress = () => {
                if (!isMobile) return;
                const scrollLeft = horizontal.scrollLeft;
                const maxScroll = horizontal.scrollWidth - horizontal.clientWidth;
                const progress = Math.min(scrollLeft / maxScroll, 1);
                progressBar.style.width = `${progress * 100}%`;
            };

            /* === Swipe tactile (mobile) === */
            if (isMobile) {
                let startX = 0;
                let scrollStart = 0;
                let isDragging = false;

                horizontal.addEventListener("touchstart", (e) => {
                    isDragging = true;
                    startX = e.touches[0].clientX;
                    scrollStart = horizontal.scrollLeft;
                });

                horizontal.addEventListener("touchmove", (e) => {
                    if (!isDragging) return;
                    const dx = startX - e.touches[0].clientX;
                    horizontal.scrollLeft = scrollStart + dx;
                    updateMobileProgress();
                });

                horizontal.addEventListener("touchend", () => {
                    isDragging = false;
                });

                horizontal.addEventListener("scroll", updateMobileProgress);
            } else {
                window.addEventListener("scroll", updateScrollAnimation);
                window.addEventListener("resize", updateScrollAnimation);
                updateScrollAnimation();
            }
        });

    </script>

</body>

</html>